<h1>1.3 Java packages</h1>

<p>Вопросы в экзамене затрагивают тему импорта пакетов в классах, но, прежде чем переходить к оператору <em>import</em>, сначала разберемся с пакетами.</p>
<p>Давайте выясним, в чем разница между теми классами, которые входят в пакеты, и теми, которые не входят.
Также разберем зачем нужно пользоваться импортами в своем коде.</p>
<p>Но все по-порядку.</p>
<hr />

<h2>1.3.1 В чем необходимость пакетов</h2>

<p>Простой пример из жизни: вопрос: "Слыхал, Саня то в Германию уехал" - может ввести вас в замешательство.
Сколько вы знаете людей с именем Саша? Пять? Десять? Все кругом для вас Саша? Про какого из них то речь идет?</p>
<p>Для того, чтобы понимать о ком идет речь, всех Саш можно разделить на категории по какому-нибудь признаку: друзья, родственники, одноклассники, где они живут и так далее.</p>
<p>И если вопрос задать следующим образом: "Слыхал, Саня, ну тот с которым ты учился, который 2 последние года вкалывал в подвале в сомнительно компании,
в Германию уехал?" - вы сразу поймете, о ком идет речь.</p>
<p>Такая же ситуация обстоит и с пакетами - для удобства и понимания, каким классом вы хотите воспользоваться,
вы можете сгруппировать связанные по смыслу классы и интерфейсы в один пакет.
Помимо удобства и группировки классов, пакеты обеспечивают защиту доступа данных ваших классов и ограничивают пространство имен.</p>
<p>В рамках созданного пакета можно создавать вложенные пакеты.</p>
<p>В реальных проектах практически всегда используют группировку классов по пакетам,
причем зачастую правила именование пакетов строго регламентировано документацией организации.</p>
<p>Если явно не указать в классе его принадлежность к какому-либо пакету (при помощи оператора <em>package</em>),
то он автоматически становится частью <em>default</em> пакета.</p>

<hr />

<h2>1.3.2 Добавление класса в пакет при помощи оператора package</h2>

<p>Понять, что класс/интерфейс входит в какой-либо пакет можно по наличию в классе оператора <em>package</em>.</p>
<div class="code-block">
<p>package examples;</p>
<p>class Exam {</p>
<p style="margin-left:40px">// some code</p>
<p>}</p>
</div>
<p>В примере выше мы видим класс <em>Exam</em>, который входит в пакет<em>examples</em>.
Такого рода названия пакетов, как правило, не используются.
Почти во всех кампаниях принято хранить классы во вложенных пакетах по принципу: <em>edu.somecompanyname.develop.examples.</em></p>
<p>В нашем примере полным именем класса является <em>examples.Exam.</em>
Если именовать по общепринятым правилам, указанным выше, то полным именем будет <em>edu.somecompanyname.develop.examples.Exam</em>.</p>
<p>Важные моменты, при использовании Java-пакетов:</p>
<ul class="list">
  <li>Согласно соглашению по именованию кода Java, имя пакетов должно содержать<s> только строчные буквы</s></li>
  <li>Пакеты и подпакеты <s>разделятся точками</s></li>
  <li>Оператор <em>package </em>идет <s>первой </s>строчкой в java.-файле, исключением могут быть только <s>комментарии</s></li>
  <li>В одном .java-файле может быть <s>максимум один </s>оператор <em>package</em></li>
  <li>Все классы и интерфейсы, которые находятся в одном .java-файле, могут принадлежать <s>только одному</s> пакету.</li>
</ul>
<hr />

<h3>Структура директорий и иерархия пакетов</h3>
<p>Иерархия классов и интерфейсов в пакетах должна соответствовать структуре директорий в проекте.
То есть для класса в пакете <em>examples.Exam </em>структура будет такой:</p>

<h5>КАРТИНКА!!!!!!!!!!!!!</h5>

<p>для <em>edu.somecompanyname.develop.examples.Exam</em>, такой:</p>

<h5>КАРТИНКА!!!!!!!!!!!!!</h5>

<hr />

<h3>Добавление классов из пакетов в classpath</h3>

<p>Чтобы <em>JRE (Java Runtime Environment)</em> могла найти ваши классы,
в <em>classpath</em> нужно добавить базовую директорию, в которой лежит пакет с вашим кодом.</p>
<p>К примеру, чтобы <em>JRE </em>смогла использовать класс <em>examples.Exam</em> из примера выше,
в <em>Classpath</em> нужно добавить директорию <em>MyCode</em>, в которой лежит указанный пакет.</p>
<p>В повседневной деятельности за нас это делает <em>IDE</em>, и некоторые разработчики даже не подозревают об этой необходимости.
Однако, для лучшего понимания, рекомендуем поэкспериментировать с написанием кода в простом текстовом редакторе и поработать с кодом в командной строке.</p>
<p>При сдаче экзамена у вас должно быть ясное понимание процесса компиляции кода, но когда работаешь в <em>IDE</em>,
добротная часть работы с кодом скрывается под ее капотом и делается за вас.</p>
<hr />

<h2>1.3.3 Использование коротких имен классов благодаря оператору import</h2>

<p>Использование импортов позволяет использовать короткие имена классов, не загромождая код длинными именами с указанием пакета, в котором они лежат.</p>
<p>Представим 2 разных помещения: коммуналка и нелегальная фабрика где-то в подвале на окраине дома.</p>
<p>В коммуналке есть комната и общая кухня. На фабрике есть цех и туалет.</p>
<p>Эти помещения можно представить в виде двух отдельных пакетов:</p>

<h5>ЗАМЕНИТЬ НА КРАСИВУЮ)</h5>

<table class="table table-bordered">
<tbody>
<tr>
<td scope="col"><p class="text-center align-middle">Коммуналка</p></td>
<td scope="col"><p class="text-center align-middle">Нелегальная фабрика</p></td>
</tr>
<tr>
<td scope="row"><p class="text-center align-middle">Комната Кухня</p></td>
<td><p class="text-center align-middle">Цех кабинет</p></td>
</tr>
</tbody>
</table>

<p>Если работнику фабрики после смены в 20 часов разрешат пойти поспать на полу в комнате коммуналки,
ему нужно точно знать по какому адресу и в какой именно комнате это можно сделать.
И так как все работники страдают топографическим кретинизмом, каждому каждый раз придется рассказывать адрес коммуналки и номер комнаты.
Если представить эту ситуацию в виде кода, получим следующее:</p>
<div class="code-block">
<p>package fabrica; <s>//пакет фабрики</s></p>
<p>class IWatnToSleep{</p>
<p style="margin-left:40px">address.home.Room room; <s>//полный адрес комнаты</s></p>
<p>}</p>
</div>
<p>Но, если повесить над выходом из фабрики огромный плакат с подробной схемой расположения коммуналки и комнаты,
то не нужно будет каждому работнику каждый раз объяснять, как добраться до коммуналки.
Эту же функцию выполняет оператор <em>import</em>. В виде кода это можно отразить так:</p>
<div class="code-block">
<p>pac
<p><s>import address.home.Room;</s> //вешаем схему над выходом</p>
<p>class IWatnToSleep{</p>
<p style="margin-left:40px"><s>Room room;</s></p>
<p>}</p>
</div>
<p>Обратите внимание на то, что оператор <em>import </em>не встраивает код импортируемого класса в ваш класс,
а только указывает путь к коду. По этой причине можете не беспокоиться,
что чем больше вы добавляете импортов в свой класс, тем больше увеличивается его размер.</p>
<hr />

<h2>1.3.4 Использование полных имен классов</h2>

<p>Никто не запрещает вам использовать полные имена классов и интерфейсов, не используя оператор <em>import</em> (ну мало ли не нравиться он вам):</p>
<div class="code-block">
<p>class Test{</p>
<p style="margin-left:40px">ru.mysupercompany.allprojects.trash.examples.Exam ex; //Весьма читабельно же, да?)</p>
<p>}</p>
</div>
<p>Но представьте, что вам нужно взять один класс из одного пакета,
интерфейс из другого, потом еще один класс из третьего и еще и еще.
Отыскать хоть какую-то логику в этом коде потом будет той еще задачей.
Очень не рекомендуем вам так делать в реальных проектах,
ибо осуждения и порицания (а то и поиск новой работы) со стороны коллег и руководства не миновать!</p>
<p>Напомним еще раз, что классы из пакетов <em>java.util</em> и <em>java.sql</em> по умолчанию импортируются во все классы и пакеты.
Но в тех случаях, когда вам нужно использовать классы с одинаковыми именами из этих пакетов,
вам нужно будет указывать полные имена данных классов. К примеру:</p>
<div class="code-block">
<p><s>java.util.</s>Date date1;</p>
<p><s>java.sql.</s>Date date2;</p>
</div>
<p>Если вы попробуете сделать импорт классов с одинаковыми именами из разных пакетов - этот код <s>не скомпилируется:</s></p>
<div class="code-block">
<p>import java.util.Date;</p>
<p>import java.sql.Date; <s>//ошибка компиляции</s></p>
<p>class Test { }</p>
</div>
<p>Самым оптимальным вариантом в этой ситуации будет выбрать класс,
который вы планируете использоваться большее количество раз,
и импортировать именно его, а второй класс использовать по полному имени:</p>
<div class="code-block">
<p>import <s>java.util.Date;</s></p>
<p>class Test {</p>
<p style="margin-left:40px">Date date1;</p>
<p style="margin-left:40px"><s>java.sql.Date</s> date2;</p>
<p>}</p>
</div>
<hr />

<h2>1.3.5 Импорт одного или сразу всех компонентов из пакета</h2>

<p>Вы можете импортировать только один компонент из пакета либо же сразу все его составляющие (классы и интерфейсы).</p>
<p>К примеру: у нас есть пакет <em>learn</em>, в котором есть класс <em>Topic </em>и интерфейс <em>Test:</em></p>
<div class="code-block">
<p>import learn.Topic;</p>
<p>class Exam{</p>
<p style="margin-left:40px">Topic t;</p>
<p style="margin-left:40px">Test test; <s>//ошибка компиляции</s></p>
<p>}</p>
</div>
<p>Пример выше не скомпилируется из-за того, что интерфейс <em>Test </em>не был импортирован.</p>
<p>Но, если мы изменим код следующим образом:</p>
<div class="code-block">
<p><s>import learn.;</s></p>
<p>class Exam{</p>
<p style="margin-left:40px">Topic t;</p>
<p style="margin-left:40px">Test test;</p>
<p>}</p>
</div>
<p>код будет работать корректно.</p>
<p>Не злоупотребляйте магическим значком "" с импортами, потому что при множественных импортах иногда становиться трудно определить,
какому именно пакету принадлежит тот или иной класс или интерфейс, использующийся в коде.</p>
<p>При работе в <em>IDE</em>, как правило, все классы и интерфейсы, на которые вы ссылаетесь, импортируются автоматически.</p>
<hr />

<h2>1.3.6 Оператор import не импортирует все дерево из пакета</h2>

<p>Импортировать все классы, содержащиеся в разных вложенных пакетах, используя "*", <s>нельзя</s>.</p>
<p>Рассмотрим пример пакета <em>edu.mycompany.test</em></p>

<h5>!!!!!!!!!!!!КАРТИНКА</h5>

<p>В случае, если вы выполните импорт</p>
<div class="code-block">
<p>import edu.mycompany.test;</p>
</div>
<p>импортируется только класс <em>Exam</em>. Если же вы хотите импортировать все классы,
которые находятся во вложенных пакетах, то вам нужно добавить еще 2 импорта:</p>
<div class="code-block">
<p>import edu.mycompany.test.first;</p>
<p>import edu.mycompany.test.second;</p>
</div>
<hr />

<h2>1.3.7 Импорт классов из пакета по умолчанию (default)</h2>

<p>Что происходит в тех случаях, когда вы не добавите оператор <em>package </em>в свой класс или интерфейс?</p>
<p>В этих случаях они становятся частью пакета по умолчанию (<em>default</em>) или, так называемого, <s>безымянного пакета </s>(<em>no-name</em>).</p>
<p>Пакет по умолчанию автоматически импортируется в java-классы и интерфейсы, расположенные в одной и той же директории.</p>
<p>К примеру, классы <em>Child </em>и <em>Parent</em>, расположенные в одной папке, могут без проблем использовать код друг друга:</p>
<div class="code-block">
<p>class Child{</p>
<p style="margin-left:40px">//some code</p>
<p>}</p>
<p>class Parent{</p>
<p style="margin-left:40px">Child child;</p>
<p>}</p>
</div>
<p>Классы из <em>default-</em>пакетов <s>не могут</s> быть использованы в любом из классов или интерфейсов, которые входят в именованные пакеты,
<s>даже</s>,<s> если они находятся в одной директории.</s></p>
<hr />

<h2>1.3.8. Статические импорты (import static)</h2>

<p>Вы можете вызывать статические элементы по их имени с префиксом из класса и пакета, в котором они находятся.</p>
<p>Но с помощью оператора <em>import static</em> можно импортировать отдельный статический метод или переменную класса либо сразу все его статические элементы.</p>
<p>Используя статический импорт, можно вызывать статические методы и переменные, не используя префикс.</p>
<p>В примере ниже представлен класс <em>Exam.</em> Он находиться в пакете <em>examples.</em>
В нем есть статическая переменная <em>value </em>и статический метод <em>print</em>.</p>
<div class="code-block">
<p>package examples;</p>
<p>class Exam{</p>
<p style="margin-left:40px"><s>public static </s>int value;</p>
<p style="margin-left:40px"><s>public static</s> void print(){</p>
<p style="margin-left:80px">System.out.println(“Hello”);</p>
<p style="margin-left:40px">}</p>
<p>}</p>
</div>
<p>Чтобы воспользоваться статической переменной из класса выше в классе <em>Test</em> воспользуемся статическим импортом:</p>
<div class="code-block">
<p>package testing;</p>
<p><s>import static examples.Exam.value;</s></p>
<p>class Test{</p>
<p style="margin-left:40px">Test(){</p>
<p style="margin-left:80px"><s>value </s>= 20;</p>
<p style="margin-left:40px">}</p>
<p>}</p>
</div>
<p>Порядок слов в операторе должно быть <s>строго import static</s>,
хотя этот импорт и называется статическим импортом, а не импорт статический.
<s>При изменении порядка код не скомпилируется</s>.</p>
<p>Для того, что импортировать все статическими элементы класса <em>Exam</em>,
не импортируя каждый по отдельности, можно воспользоваться следующим вариантом статического импорта:</p>
<div class="code-block">
<p>import static examples.Exam<s>.</s>;</p>
</div>
<p>Так как переменная <em>value </em>и метод <em>print() </em>объявлены с публичным доступом (<em>public</em>),
их можно вызывать по короткому имени без префикса.</p>
<p>В реальных проектах не злоупотребляйте статическими импортами,
так как код может стать сложно читаемым из-за того,
что будет сложно понять к какому классу относиться тот или иной метод или переменная.</p>
<p>Доступность отдельных элементов класса зависит от их <s>модификатора доступа</s>,
подробнее мы рассмотрим их в следующем уроке.</p>
